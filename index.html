<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@portabletext/to-html - v3.0.0</title><meta name="description" content="Documentation for @portabletext/to-html"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@portabletext/to-html - v3.0.0</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@portabletext/to-html - v3.0.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="portabletextto-html" class="tsd-anchor-link">@portabletext/to-html<a href="#portabletextto-html" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/@portabletext/to-html"><img src="https://img.shields.io/npm/v/@portabletext/to-html.svg?style=flat-square" alt="npm version"></a><a href="https://bundlephobia.com/result?p=@portabletext/to-html"><img src="https://img.shields.io/bundlephobia/minzip/@portabletext/to-html?style=flat-square" alt="npm bundle size"></a></p>
<p>Render <a href="https://portabletext.org/">Portable Text</a> to HTML.</p>
<ul>
<li>Using <strong>React</strong>? See <a href="https://github.com/portabletext/react-portabletext">@portabletext/react</a></li>
<li>Using <strong>Svelte</strong>? See <a href="https://github.com/portabletext/svelte-portabletext">@portabletext/svelte</a></li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">save</span><span class="hl-1"> @</span><span class="hl-0">portabletext</span><span class="hl-1">/</span><span class="hl-0">to</span><span class="hl-1">-</span><span class="hl-0">html</span>
</code><button>Copy</button></pre>

<h2 id="basic-usage" class="tsd-anchor-link">Basic usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="js"><span class="hl-2">import</span><span class="hl-1"> {</span><span class="hl-0">toHTML</span><span class="hl-1">} </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@portabletext/to-html&#39;</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">toHTML</span><span class="hl-1">(</span><span class="hl-0">portableTextBlocks</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">components:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">/* optional object of custom components to use */</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="styling-the-output" class="tsd-anchor-link">Styling the output<a href="#styling-the-output" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The rendered HTML does not have any styling applied, so you will want to either render a parent container with a class name you can target in your CSS, or pass <a href="#customizing-components">custom components</a> if you want to pass specific class names.</p>
<h2 id="customizing-components" class="tsd-anchor-link">Customizing components<a href="#customizing-components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>&quot;Components&quot; are (in this package) just functions, which receive an object of properties that contains the relevant information needed to make a decision about what to render. The return value of the component functions are plain strings containing HTML.</p>
<p>Default component functions are provided for all standard features of the Portable Text spec, with logical HTML defaults.</p>
<p>You can pass an object of component functions to use in the <code>components</code> option, both to override the defaults and to provide components for your custom content types.</p>
<p>The passed components will be merged with the default components.</p>
<p><strong>⚠️ IMPORTANT: Make sure you sanitize/escape the returned HTML!</strong></p>
<p>In the below examples we use the <a href="https://github.com/developit/htm">htm</a> and <a href="https://github.com/developit/vhtml">vhtml</a> modules to render &quot;safe&quot; HTML.</p>
<pre><code class="js"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">htm</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;htm&#39;</span><br/><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">vhtml</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;vhtml&#39;</span><br/><span class="hl-2">import</span><span class="hl-1"> {</span><span class="hl-0">toHTML</span><span class="hl-1">, </span><span class="hl-0">uriLooksSafe</span><span class="hl-1">} </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@portabletext/to-html&#39;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">html</span><span class="hl-1"> = </span><span class="hl-0">htm</span><span class="hl-1">.</span><span class="hl-4">bind</span><span class="hl-1">(</span><span class="hl-0">vhtml</span><span class="hl-1">)</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">myPortableTextComponents</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-0">types:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">image</span><span class="hl-0">:</span><span class="hl-1"> ({</span><span class="hl-0">value</span><span class="hl-1">}) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">html</span><span class="hl-3">`&lt;img src=&quot;</span><span class="hl-6">${</span><span class="hl-0">value</span><span class="hl-8">.</span><span class="hl-0">imageUrl</span><span class="hl-6">}</span><span class="hl-3">&quot; /&gt;`</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">callToAction</span><span class="hl-0">:</span><span class="hl-1"> ({</span><span class="hl-0">value</span><span class="hl-1">, </span><span class="hl-0">isInline</span><span class="hl-1">}) </span><span class="hl-6">=&gt;</span><br/><span class="hl-1">      </span><span class="hl-0">isInline</span><br/><span class="hl-1">        ? </span><span class="hl-4">html</span><span class="hl-3">`&lt;a href=&quot;</span><span class="hl-6">${</span><span class="hl-0">value</span><span class="hl-8">.</span><span class="hl-0">url</span><span class="hl-6">}</span><span class="hl-3">&quot;&gt;</span><span class="hl-6">${</span><span class="hl-0">value</span><span class="hl-8">.</span><span class="hl-0">text</span><span class="hl-6">}</span><span class="hl-3">&lt;/a&gt;`</span><br/><span class="hl-1">        : </span><span class="hl-4">html</span><span class="hl-3">`&lt;div class=&quot;callToAction&quot;&gt;</span><span class="hl-6">${</span><span class="hl-0">value</span><span class="hl-8">.</span><span class="hl-0">text</span><span class="hl-6">}</span><span class="hl-3">&lt;/div&gt;`</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  </span><span class="hl-0">marks:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">link</span><span class="hl-0">:</span><span class="hl-1"> ({</span><span class="hl-0">children</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1">}) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">// ⚠️ `value.href` IS NOT &quot;SAFE&quot; BY DEFAULT ⚠️</span><br/><span class="hl-1">      </span><span class="hl-5">// ⚠️ Make sure you sanitize/validate the href! ⚠️</span><br/><span class="hl-1">      </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">href</span><span class="hl-1"> = </span><span class="hl-0">value</span><span class="hl-1">.</span><span class="hl-0">href</span><span class="hl-1"> || </span><span class="hl-3">&#39;&#39;</span><br/><br/><span class="hl-1">      </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-4">uriLooksSafe</span><span class="hl-1">(</span><span class="hl-0">href</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">rel</span><span class="hl-1"> = </span><span class="hl-0">href</span><span class="hl-1">.</span><span class="hl-4">startsWith</span><span class="hl-1">(</span><span class="hl-3">&#39;/&#39;</span><span class="hl-1">) ? </span><span class="hl-6">undefined</span><span class="hl-1"> : </span><span class="hl-3">&#39;noreferrer noopener&#39;</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-4">html</span><span class="hl-3">`&lt;a href=&quot;</span><span class="hl-6">${</span><span class="hl-0">href</span><span class="hl-6">}</span><span class="hl-3">&quot; rel=&quot;</span><span class="hl-6">${</span><span class="hl-0">rel</span><span class="hl-6">}</span><span class="hl-3">&quot;&gt;</span><span class="hl-6">${</span><span class="hl-0">children</span><span class="hl-6">}</span><span class="hl-3">&lt;/a&gt;`</span><br/><span class="hl-1">      }</span><br/><br/><span class="hl-1">      </span><span class="hl-5">// If the URI appears unsafe, render the children (eg, text) without the link</span><br/><span class="hl-1">      </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">children</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-4">toHTML</span><span class="hl-1">(</span><span class="hl-0">somePtValue</span><span class="hl-1">, {</span><span class="hl-0">components:</span><span class="hl-1"> </span><span class="hl-0">myPortableTextComponents</span><span class="hl-1">}))</span>
</code><button type="button">Copy</button></pre>

<h2 id="available-components" class="tsd-anchor-link">Available components<a href="#available-components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>These are the overridable/implementable keys:</p>
<h3 id="types" class="tsd-anchor-link"><code>types</code><a href="#types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>An object of component functions that renders different types of objects that might appear both as part of the input array, or as inline objects within text blocks - eg alongside text spans.</p>
<p>Use the <code>isInline</code> property to check whether or not this is an inline object or a block.</p>
<p>The object has the shape <code>{typeName: ComponentFn}</code>, where <code>typeName</code> is the value set in individual <code>_type</code> attributes.</p>
<h3 id="marks" class="tsd-anchor-link"><code>marks</code><a href="#marks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Object of component functions that renders different types of marks that might appear in spans. Marks can be either be simple &quot;decorators&quot; (eg emphasis, underline, italic) or full &quot;annotations&quot; which include associated data (eg links, references, descriptions).</p>
<p>If the mark is a decorator, the component function will receive a <code>markType</code> property which has the name of the decorator (eg <code>em</code>). If the mark is an annotation, it will receive both a <code>markType</code> with the associated <code>_type</code> property (eg <code>link</code>), and a <code>value</code> property with an object holding the data for this mark.</p>
<p>The component function also receives a <code>children</code> property that should (usually) be rendered in whatever parent container makes sense for this mark (eg <code>&lt;a&gt;</code>, <code>&lt;em&gt;</code>).</p>
<h3 id="block" class="tsd-anchor-link"><code>block</code><a href="#block" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>An object of component functions that renders portable text blocks with different <code>style</code> properties. The object has the shape <code>{styleName: ComponentFn}</code>, where <code>styleName</code> is the value set in individual <code>style</code> attributes on blocks (<code>normal</code> being the default).</p>
<p>Can also be set to a single component function, which would handle block styles of <em>any</em> type.</p>
<h3 id="list" class="tsd-anchor-link"><code>list</code><a href="#list" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Object of component functions used to render lists of different types (<code>bullet</code> vs <code>number</code>, for instance, which by default is <code>&lt;ul&gt;</code> and <code>&lt;ol&gt;</code>, respectively).</p>
<p>Note that there is no actual &quot;list&quot; node type in the Portable Text specification, but a series of list item blocks with the same <code>level</code> and <code>listItem</code> properties will be grouped into a virtual one inside of this library.</p>
<p>The property can also be set to a single component function, which would handle lists of <em>any</em> type.</p>
<h3 id="listitem" class="tsd-anchor-link"><code>listItem</code><a href="#listitem" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Object of component functions used to render different list item styles. The object has the shape <code>{listItemType: ComponentFn}</code>, where <code>listItemType</code> is the value set in individual <code>listItem</code> attributes on blocks.</p>
<p>Can also be set to a single component function, which would handle list items of <em>any</em> type.</p>
<h3 id="hardbreak" class="tsd-anchor-link"><code>hardBreak</code><a href="#hardbreak" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Component function to use for rendering &quot;hard breaks&quot;, eg <code>\n</code> inside of text spans.</p>
<p>Will by default render a <code>&lt;br /&gt;</code>. Pass <code>false</code> to render as-is (<code>\n</code>)</p>
<h3 id="unknownmark" class="tsd-anchor-link"><code>unknownMark</code><a href="#unknownmark" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Component function used when encountering a mark type there is no registered component for in the <code>components.marks</code> option.</p>
<h3 id="unknowntype" class="tsd-anchor-link"><code>unknownType</code><a href="#unknowntype" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Component function used when encountering an object type there is no registered component for in the <code>components.types</code> option.</p>
<h3 id="unknownblockstyle" class="tsd-anchor-link"><code>unknownBlockStyle</code><a href="#unknownblockstyle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Component function used when encountering a block style there is no registered component for in the <code>components.block</code> option. Only used if <code>components.block</code> is an object.</p>
<h3 id="unknownlist" class="tsd-anchor-link"><code>unknownList</code><a href="#unknownlist" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Component function used when encountering a list style there is no registered component for in the <code>components.list</code> option. Only used if <code>components.list</code> is an object.</p>
<h3 id="unknownlistitem" class="tsd-anchor-link"><code>unknownListItem</code><a href="#unknownlistitem" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Component function used when encountering a list item style there is no registered component for in the <code>components.listItem</code> option. Only used if <code>components.listItem</code> is an object.</p>
<h2 id="default-components" class="tsd-anchor-link">Default components<a href="#default-components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you override the default components but still want access to the original ones, you can access them by importing <code>defaultComponents</code>:</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> {</span><span class="hl-0">defaultComponents</span><span class="hl-1">, </span><span class="hl-0">toHTML</span><span class="hl-1">, </span><span class="hl-0">escapeHTML</span><span class="hl-1">} </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@portabletext/to-html&#39;</span><br/><br/><span class="hl-4">toHTML</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><br/><span class="hl-1">    </span><span class="hl-5">/* array of portable text blocks */</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-0">components:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">marks:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">link</span><span class="hl-0">:</span><span class="hl-1"> ({</span><span class="hl-0">children</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1">, ...</span><span class="hl-0">rest</span><span class="hl-1">}) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">href</span><span class="hl-1"> = </span><span class="hl-0">value</span><span class="hl-1">.</span><span class="hl-0">href</span><span class="hl-1"> || </span><span class="hl-3">&#39;&#39;</span><br/><span class="hl-1">          </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">href</span><span class="hl-1">.</span><span class="hl-4">startsWith</span><span class="hl-1">(</span><span class="hl-3">&#39;https://my.site/&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">            ? </span><span class="hl-3">`&lt;a href=&quot;</span><span class="hl-6">${</span><span class="hl-4">escapeHTML</span><span class="hl-8">(</span><span class="hl-0">href</span><span class="hl-8">)</span><span class="hl-6">}</span><span class="hl-3">&quot; class=&quot;internalLink&quot;&gt;</span><span class="hl-6">${</span><span class="hl-0">children</span><span class="hl-6">}</span><span class="hl-3">&lt;/a&gt;`</span><br/><span class="hl-1">            : </span><span class="hl-4">defaultComponents</span><span class="hl-1">({</span><span class="hl-0">children</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1">, ...</span><span class="hl-0">rest</span><span class="hl-1">})</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="disabling-warnings--handling-unknown-types" class="tsd-anchor-link">Disabling warnings / handling unknown types<a href="#disabling-warnings--handling-unknown-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>When the library encounters a block, mark, list or list item with a type that is not known (eg it has no corresponding component in the <code>components</code> property), it will by default print a console warning.</p>
<p>To disable this behavior, you can either pass <code>false</code> to the <code>onMissingComponent</code> property, or give it a custom function you want to use to report the error. For instance:</p>
<pre><code class="jsx">import {toHTML} from '@portabletext/to-html'

toHTML(
  [
    /* array of portable text blocks */
  ],
  {onMissingComponent: false},
)

// or, pass it a function:

toHTML(
  [
    /* array of portable text blocks */
  ],
  {
    onMissingComponent: (message, options) => {
      myErrorLogger.report(message, {
        // eg `someUnknownType`
        type: options.type,

        // 'block' | 'mark' | 'blockStyle' | 'listStyle' | 'listItemStyle'
        nodeType: options.nodeType,
      })
    },
  },
)
</code><button type="button">Copy</button></pre>

<h2 id="missing-links" class="tsd-anchor-link">Missing links<a href="#missing-links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you find there are links that are not being rendered, it is likely because the <code>href</code> property (eg the URI) of the link is not considered &quot;safe&quot;. This is done to prevent URIs like <code>javascript:someDangerousFn()</code> and similar from being rendered. If you want to override this behavior, provide a custom component for the <code>link</code> mark:</p>
<pre><code class="js"><span class="hl-2">import</span><span class="hl-1"> {</span><span class="hl-0">escapeHTML</span><span class="hl-1">} </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">`@portabletext/to-html`</span><br/><br/><span class="hl-4">toHTML</span><span class="hl-1">(</span><span class="hl-0">portableTextBlocks</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-0">components:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">marks:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">link</span><span class="hl-0">:</span><span class="hl-1"> ({</span><span class="hl-0">children</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1">}) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">// ⚠️ `value.href` IS NOT &quot;SAFE&quot; BY DEFAULT ⚠️</span><br/><span class="hl-1">        </span><span class="hl-5">// ⚠️ Make sure you sanitize/validate the href! ⚠️</span><br/><span class="hl-1">        </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">unsafeUri</span><span class="hl-1"> = </span><span class="hl-0">value</span><span class="hl-1">.</span><span class="hl-0">href</span><span class="hl-1"> || </span><span class="hl-3">&#39;&#39;</span><br/><span class="hl-1">        </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">looksSafe</span><span class="hl-1"> =</span><span class="hl-9"> /</span><span class="hl-10">^</span><span class="hl-11">(</span><span class="hl-9">http</span><span class="hl-10">|</span><span class="hl-9">https</span><span class="hl-10">|</span><span class="hl-9">mailto</span><span class="hl-10">|</span><span class="hl-9">my-custom-proto</span><span class="hl-11">)</span><span class="hl-9">:/</span><span class="hl-6">i</span><span class="hl-1">.</span><span class="hl-4">test</span><span class="hl-1">(</span><span class="hl-0">unsafeUri</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">looksSafe</span><br/><span class="hl-1">          ? </span><span class="hl-3">`&lt;a href=&quot;</span><span class="hl-6">${</span><span class="hl-4">escapeHTML</span><span class="hl-8">(</span><span class="hl-0">value</span><span class="hl-8">.</span><span class="hl-0">href</span><span class="hl-8">)</span><span class="hl-6">}</span><span class="hl-3">&quot;&gt;</span><span class="hl-6">${</span><span class="hl-0">children</span><span class="hl-6">}</span><span class="hl-3">&lt;/a&gt;`</span><br/><span class="hl-1">          : </span><span class="hl-0">children</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT © <a href="https://www.sanity.io/">Sanity.io</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#portabletextto-html"><span>@portabletext/to-<wbr/>html</span></a><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#basic-usage"><span>Basic usage</span></a></li><li><a href="#styling-the-output"><span>Styling the output</span></a></li><li><a href="#customizing-components"><span>Customizing components</span></a></li><li><a href="#available-components"><span>Available components</span></a></li><li><ul><li><a href="#types"><span>types</span></a></li><li><a href="#marks"><span>marks</span></a></li><li><a href="#block"><span>block</span></a></li><li><a href="#list"><span>list</span></a></li><li><a href="#listitem"><span>list<wbr/>Item</span></a></li><li><a href="#hardbreak"><span>hard<wbr/>Break</span></a></li><li><a href="#unknownmark"><span>unknown<wbr/>Mark</span></a></li><li><a href="#unknowntype"><span>unknown<wbr/>Type</span></a></li><li><a href="#unknownblockstyle"><span>unknown<wbr/>Block<wbr/>Style</span></a></li><li><a href="#unknownlist"><span>unknown<wbr/>List</span></a></li><li><a href="#unknownlistitem"><span>unknown<wbr/>List<wbr/>Item</span></a></li></ul></li><li><a href="#default-components"><span>Default components</span></a></li><li><a href="#disabling-warnings--handling-unknown-types"><span>Disabling warnings / handling unknown types</span></a></li><li><a href="#missing-links"><span>Missing links</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@portabletext/to-html - v3.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
